<h1>Item details</h1>

<h3>Item name: <%= @item.name %></h3>
<p>Brand: <%= @item.brand %></p>
<p>SKU: <%= @item.barcode %></p>
<p>In Stock: <%= @total_amount %></p>

<h3>Amounts</h3>
<% if @item.item_amounts.empty? %>
  <p>You have 0 items in stock</p>
<% else %>
  <ol>
    <% @item.item_amounts.each do |item_amount| %>
      <li>
        <p>Quantity: <%= item_amount.amount %></p>
        <p>Expiry date: <%= item_amount.exp_date %></p>
        <p>Purchased by:</p>
        <p>Date: <%= item_amount.created_at %></p>
        <p><%= link_to "Delete amount", # TODO: check on how to associate action to correct controller! -> MAKE NEW ROUTES! (new + delete)
            item_amount_path(item_amount),
            method: :delete,
            data: { confirm: "Are you sure?" } 
        %></p>
      </li>
    <% end %></li>
  </ol>
<% end %>

<h3>Actions:</h3>
<p><%= link_to "Add amount", new_item_item_amount_path(@item) %></p>
<p><%= link_to "Edit item info", edit_item_path %></p>
<p><%= link_to "Delete item",
            item_path(@item),
            method: :delete,
            data: { confirm: "Are you sure?" } 
%></p>

<p><%= link_to 'Home', root_path %></p>

<%# # TODO: implement sub-inventories depending on item's needs (i.e. orders & LBs)
# TO DO: have the total amount of of an item display with graphic represaentation (to be able to check amounts in-stock for orders, in-stock for LB, amount ordered, amount ordered & in-transit, etc..) %>